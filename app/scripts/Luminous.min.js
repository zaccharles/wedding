!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.Luminous=e()}}(function(){return function e(t,i,n){function s(o,r){if(!i[o]){if(!t[o]){var a="function"==typeof require&&require;if(!r&&a)return a(o,!0);if(l)return l(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[o]={exports:{}};t[o][0].call(d.exports,function(e){var i=t[o][1][e];return s(i?i:e)},d,d.exports,e,t,i,n)}return i[o].exports}for(var l="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();Object.defineProperty(i,"__esModule",{value:!0});var o=e("./util/dom"),r=e("./util/throwIfMissing"),a=n(r),u="undefined"==typeof document?!1:"animation"in document.createElement("div").style,d=function(){function e(){var t=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];s(this,e),this._sizeImgWrapperEl=function(){var e=t.imgWrapperEl.style;e.width=t.innerEl.clientWidth+"px",e.height=t.innerEl.clientHeight-t.captionEl.clientHeight+"px"},this._completeOpen=function(){t.el.removeEventListener("animationend",t._completeOpen,!1),(0,o.removeClasses)(t.el,t.openingClasses)},this._completeClose=function(){t.el.removeEventListener("animationend",t._completeClose,!1),(0,o.removeClasses)(t.el,t.openClasses),(0,o.removeClasses)(t.el,t.closingClasses)};var n=i.namespace,l=void 0===n?null:n,r=i.parentEl,u=void 0===r?(0,a["default"])():r,d=i.triggerEl,c=void 0===d?(0,a["default"])():d,h=i.sourceAttribute,p=void 0===h?(0,a["default"])():h,g=i.captionAttribute,f=void 0===g?(0,a["default"])():g,m=i.includeImgixJSClass,v=void 0===m?!1:m;if(this.settings={namespace:l,parentEl:u,triggerEl:c,sourceAttribute:p,captionAttribute:f,includeImgixJSClass:v},!(0,o.isDOMElement)(this.settings.parentEl))throw new TypeError("`new Lightbox` requires a DOM element passed as `parentEl`.");this.openClasses=this._buildClasses("open"),this.openingClasses=this._buildClasses("opening"),this.closingClasses=this._buildClasses("closing"),this.elementBuilt=!1}return l(e,[{key:"_buildClasses",value:function(e){var t=["lum-"+e],i=this.settings.namespace;return i&&t.push(i+"-"+e),t}},{key:"_buildElement",value:function(){this.el=document.createElement("div"),(0,o.addClasses)(this.el,this._buildClasses("lightbox")),this.innerEl=document.createElement("div"),(0,o.addClasses)(this.innerEl,this._buildClasses("lightbox-inner")),this.el.appendChild(this.innerEl);var e=document.createElement("div");(0,o.addClasses)(e,this._buildClasses("lightbox-loader")),this.innerEl.appendChild(e),this.imgWrapperEl=document.createElement("div"),(0,o.addClasses)(this.imgWrapperEl,this._buildClasses("lightbox-image-wrapper")),this.innerEl.appendChild(this.imgWrapperEl);var t=document.createElement("span");(0,o.addClasses)(t,this._buildClasses("lightbox-position-helper")),this.imgWrapperEl.appendChild(t),this.imgEl=document.createElement("img"),t.appendChild(this.imgEl),this.captionEl=document.createElement("p"),(0,o.addClasses)(this.captionEl,this._buildClasses("lightbox-caption")),t.appendChild(this.captionEl),this.settings.parentEl.appendChild(this.el),this._updateImgSrc(),this._updateCaption(),this.settings.includeImgixJSClass&&this.imgEl.classList.add("imgix-fluid")}},{key:"_updateCaption",value:function(){var e=this.settings.captionAttribute;e&&(this.captionEl.innerText=this.settings.triggerEl.getAttribute(e))}},{key:"_updateImgSrc",value:function(){var e=this.settings.triggerEl.getAttribute(this.settings.sourceAttribute);if(!e)throw new Error("No image URL was found in the "+this.settings.sourceAttribute+" attribute of the trigger.");this.imgEl.setAttribute("src",e)}},{key:"open",value:function(){this.elementBuilt||(this._buildElement(),this.elementBuilt=!0),this._updateImgSrc(),this._updateCaption(),(0,o.addClasses)(this.el,this.openClasses),this._sizeImgWrapperEl(),window.addEventListener("resize",this._sizeImgWrapperEl,!1),u&&(this.el.addEventListener("animationend",this._completeOpen,!1),(0,o.addClasses)(this.el,this.openingClasses))}},{key:"close",value:function(){window.removeEventListener("resize",this._sizeImgWrapperEl,!1),u?(this.el.addEventListener("animationend",this._completeClose,!1),(0,o.addClasses)(this.el,this.closingClasses)):(0,o.removeClasses)(this.el,this.openClasses)}},{key:"destroy",value:function(){this.settings.parentEl.removeChild(this.el)}}]),e}();i["default"]=d},{"./util/dom":4,"./util/throwIfMissing":5}],2:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l,o,r,a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=e("./util/dom"),d=e("./injectBaseStylesheet"),c=n(d),h=e("./Lightbox"),p=n(h);t.exports=(o=l=function(){function e(t){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(s(this,e),r.call(this),this.isOpen=!1,this.trigger=t,!(0,u.isDOMElement)(this.trigger))throw new TypeError("`new Luminous` requires a DOM element as its first argument.");var n=i.namespace,l=void 0===n?null:n,o=i.sourceAttribute,a=void 0===o?"href":o,d=i.captionAttribute,h=void 0===d?null:d,p=i.openTrigger,g=void 0===p?"click":p,f=i.closeTrigger,m=void 0===f?"click":f,v=i.closeWithEscape,b=void 0===v?!0:v,E=i.closeOnScroll,y=void 0===E?!1:E,C=i.appendToSelector,_=void 0===C?"body":C,x=i.onOpen,w=void 0===x?null:x,L=i.onClose,O=void 0===L?null:L,S=i.includeImgixJSClass,T=void 0===S?!1:S,k=i.injectBaseStyles,A=void 0===k?!0:k;this.settings={namespace:l,sourceAttribute:a,captionAttribute:h,openTrigger:g,closeTrigger:m,closeWithEscape:b,closeOnScroll:y,appendToSelector:_,onOpen:w,onClose:O,includeImgixJSClass:T,injectBaseStyles:A},this.settings.injectBaseStyles&&(0,c["default"])(),this._buildLightbox(),this._bindEvents()}return a(e,[{key:"_buildLightbox",value:function(){this.lightbox=new p["default"]({namespace:this.settings.namespace,parentEl:document.querySelector(this.settings.appendToSelector),triggerEl:this.trigger,sourceAttribute:this.settings.sourceAttribute,captionAttribute:this.settings.captionAttribute,includeImgixJSClass:this.settings.includeImgixJSClass})}},{key:"_bindEvents",value:function(){this.trigger.addEventListener(this.settings.openTrigger,this.open,!1),this.settings.closeWithEscape&&window.addEventListener("keyup",this._handleKeyup,!1)}},{key:"_bindCloseEvent",value:function(){this.lightbox.el.addEventListener(this.settings.closeTrigger,this.close,!1)}},{key:"_unbindEvents",value:function(){this.trigger.removeEventListener(this.settings.openTrigger,this.open,!1),this.lightbox.el.removeEventListener(this.settings.closeTrigger,this.close,!1),this.settings.closeWithEscape&&window.removeEventListener("keyup",this._handleKeyup,!1)}}]),e}(),r=function(){var e=this;this.VERSION="0.2.4",this.open=function(t){t&&"function"==typeof t.preventDefault&&t.preventDefault();var i=e.lightbox.elementBuilt;e.lightbox.open(),i||e._bindCloseEvent(),e.settings.closeOnScroll&&window.addEventListener("scroll",e.close,!1);var n=e.settings.onOpen;n&&"function"==typeof n&&n(),e.isOpen=!0},this.close=function(t){t&&"function"==typeof t.preventDefault&&t.preventDefault(),e.settings.closeOnScroll&&window.removeEventListener("scroll",e.close,!1),e.lightbox.close();var i=e.settings.onClose;i&&"function"==typeof i&&i(),e.isOpen=!1},this._handleKeyup=function(t){e.isOpen&&27===t.keyCode&&e.close()},this.destroy=function(){e._unbindEvents(),e.lightbox.destroy()}},o)},{"./Lightbox":1,"./injectBaseStylesheet":3,"./util/dom":4}],3:[function(e,t,i){"use strict";function n(){if(!document.querySelector(".lum-base-styles")){var e=document.createElement("style");e.type="text/css",e.classList.add("lum-base-styles"),e.appendChild(document.createTextNode(s));var t=document.head;t.insertBefore(e,t.firstChild)}}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=n;var s="\n@keyframes lum-noop {  }\n\n.lum-lightbox {\n  position: fixed;\n  display: none;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n}\n\n.lum-lightbox.lum-open {\n  display: block;\n}\n\n.lum-lightbox.lum-opening, .lum-lightbox.lum-closing {\n  animation: lum-noop;\n}\n\n.lum-lightbox-inner {\n  position: absolute;\n  top: 0%;\n  right: 0%;\n  bottom: 0%;\n  left: 0%;\n\n  overflow: hidden;\n}\n\n.lum-lightbox-loader {\n  display: none;\n}\n\n.lum-lightbox-inner img {\n  max-width: 100%;\n  max-height: 100%;\n}\n\n.lum-lightbox-image-wrapper {\n  vertical-align: middle;\n  display: table-cell;\n  text-align: center;\n}\n"},{}],4:[function(e,t,i){"use strict";function n(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}function s(e){return r?e instanceof HTMLElement:e&&"object"===("undefined"==typeof e?"undefined":n(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName}function l(e,t){t.forEach(function(t){e.classList.add(t)})}function o(e,t){t.forEach(function(t){e.classList.remove(t)})}Object.defineProperty(i,"__esModule",{value:!0}),i.isDOMElement=s,i.addClasses=l,i.removeClasses=o;var r="object"===("undefined"==typeof HTMLElement?"undefined":n(HTMLElement))},{}],5:[function(e,t,i){"use strict";function n(){throw new Error("Missing parameter")}Object.defineProperty(i,"__esModule",{value:!0}),i["default"]=n},{}]},{},[2])(2)});